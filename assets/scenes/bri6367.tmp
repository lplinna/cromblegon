[gd_scene load_steps=10 format=3 uid="uid://beg7ylx2bijut"]

[ext_resource type="PackedScene" uid="uid://l7km8qs58j87" path="res://assets/scenes/physdoor.tscn" id="2_bt1bo"]
[ext_resource type="Material" uid="uid://1t0boix205ce" path="res://assets/materials/generic_greenblock.tres" id="3_0q5xv"]
[ext_resource type="PackedScene" uid="uid://dxhdbv2r7npnk" path="res://player_rb.tscn" id="4_b7lln"]
[ext_resource type="Material" uid="uid://ir5o1w7c33ih" path="res://assets/materials/test1.tres" id="4_yh8v0"]

[sub_resource type="NavigationMesh" id="NavigationMesh_ta38s"]
vertices = PackedVector3Array(-29.488, 0.181564, -40.1638, -37.488, 0.181564, -40.1638, -37.488, 0.181564, -31.9138, -21.238, 0.181564, -40.1638, -29.488, 0.181564, -40.1638, -37.488, 0.181564, -31.9138, -21.238, 0.181564, -40.1638, -37.488, 0.181564, -31.9138, -37.488, 0.181564, -23.4138, -13.238, 0.181564, -40.1638, -6.23802, 0.181564, -6.91377, -4.73802, 0.181564, -6.91377, -4.98802, 0.181564, -40.1638, -13.238, 0.181564, -40.1638, -37.488, 0.181564, -23.4138, -37.488, 0.181564, -14.9138, -37.488, 0.181564, -6.41377, -6.48802, 0.181564, -6.41377, -6.23802, 0.181564, -6.91377, -37.488, 0.181564, -14.9138, 0.511978, -13.8184, -40.1638, -6.73802, -17.3184, -40.1638, -6.73802, -17.3184, -30.4138, 22.762, -2.56844, -30.4138, 22.762, -2.56844, -40.1638, 15.262, -6.31844, -40.1638, -6.73802, -17.3184, 28.8362, -6.73802, -17.3184, 38.8362, 0.511978, -13.8184, 38.8362, 15.262, -6.31844, 38.8362, 22.762, -2.56844, 38.8362, 22.762, -2.56844, 28.8362, 22.762, -2.56844, -30.4138, 15.262, -6.31844, -40.1638, 8.01198, -10.0684, -40.1638, 22.762, -2.56844, -20.4138, 8.01198, -10.0684, -40.1638, 0.511978, -13.8184, -40.1638, -6.73802, -17.3184, -30.4138, -6.73802, -17.3184, -20.4138, -6.73802, -17.3184, 28.8362, 0.511978, -13.8184, 38.8362, 8.01198, -10.0684, 38.8362, -6.73802, -17.3184, 19.0862, 8.01198, -10.0684, 38.8362, 15.262, -6.31844, 38.8362, 22.762, -2.56844, 28.8362, 22.762, -2.56844, 19.0862, 22.762, -2.56844, 9.08623, 22.762, -2.56844, -0.663769, -6.73802, -17.3184, -0.663769, -6.73802, -17.3184, 9.08623, 22.762, -2.56844, -0.663769, 22.762, -2.56844, -10.6638, -6.73802, -17.3184, -10.6638, -6.73802, -17.3184, -0.663769, 22.762, -2.56844, -20.4138, 8.01198, -10.0684, -40.1638, -6.73802, -17.3184, -20.4138, -6.73802, -17.3184, -10.6638, 22.762, -2.56844, -10.6638, -6.73802, -17.3184, 19.0862, 8.01198, -10.0684, 38.8362, 22.762, -2.56844, 19.0862, 22.762, -2.56844, 9.08623, -6.73802, -17.3184, 9.08623, -4.73802, 0.181564, -6.91377, 6.26198, 0.181564, -6.91377, 6.51198, 0.181564, -40.1638, -4.98802, 0.181564, -40.1638, 64.262, 17.9316, -31.9138, 64.262, 17.9316, -40.1638, 57.012, 14.1816, -40.1638, 64.262, 17.9316, -31.9138, 57.012, 14.1816, -40.1638, 49.762, 10.6816, -40.1638, 64.262, 17.9316, -23.6638, 64.262, 17.9316, -31.9138, 49.762, 10.6816, -40.1638, 42.512, 7.18156, -40.1638, 28.012, 0.181564, -40.1638, 20.762, 0.181564, -40.1638, 7.51198, 0.181564, -6.91377, 64.262, 17.9316, -15.4138, 64.262, 17.9316, -23.6638, 42.512, 7.18156, -40.1638, 35.262, 3.43156, -40.1638, 6.51198, 0.181564, -40.1638, 6.26198, 0.181564, -6.91377, 7.51198, 0.181564, -6.91377, 13.512, 0.181564, -40.1638, 35.262, 3.43156, -40.1638, 28.012, 0.181564, -40.1638, 7.51198, 0.181564, -6.91377, 64.262, 17.9316, -7.16377, 64.262, 17.9316, -15.4138, 29.462, 0.431564, -40.1638, 29.4797, 0.431564, -7.01054, 20.762, 0.181564, -40.1638, 13.512, 0.181564, -40.1638, 7.51198, 0.181564, -6.91377, 41.512, 0.181564, -30.4138, 41.512, 0.181564, -40.1638, 35.012, 0.181564, -40.1638, 35.012, 0.181564, -30.4138, 35.012, 0.181564, -20.4138, 35.012, 0.181564, -10.6638, 41.512, 0.181564, -10.6638, 41.512, 0.181564, -20.4138, 35.012, 0.181564, 28.8362, 35.012, 0.181564, 38.8362, 41.512, 0.181564, 38.8362, 41.512, 0.181564, 28.8362, 41.512, 0.181564, -20.4138, 41.512, 0.181564, -30.4138, 35.012, 0.181564, -30.4138, 35.012, 0.181564, -20.4138, 35.012, 0.181564, 19.0862, 35.012, 0.181564, 28.8362, 41.512, 0.181564, 28.8362, 41.512, 0.181564, 19.0862, 41.512, 0.181564, 9.08623, 41.512, 0.181564, -0.663769, 35.012, 0.181564, -0.663769, 35.012, 0.181564, 9.08623, 35.012, 0.181564, 9.08623, 35.012, 0.181564, 19.0862, 41.512, 0.181564, 19.0862, 41.512, 0.181564, 9.08623, 35.012, 0.181564, -10.6638, 35.012, 0.181564, -0.663769, 41.512, 0.181564, -0.663769, 41.512, 0.181564, -10.6638, 8.01198, 0.181564, 1.08623, 7.01198, 0.181564, 1.33623, 7.01198, 0.181564, 2.58623, 8.01198, 0.181564, 2.83623, 35.012, 3.43156, 38.8362, 64.262, 17.9316, 15.8362, 64.262, 17.9316, 4.33623, 56.072, 13.9316, 22.2762, 57.242, 14.1816, 21.3562, 56.762, 14.1816, 38.8362, 64.262, 17.9316, 38.8362, 64.262, 17.9316, 27.3362, 49.512, 10.6816, 38.8362, 56.762, 14.1816, 38.8362, 64.262, 17.9316, 27.3362, 59.7235, 15.4316, 30.8747, 42.262, 6.93156, 38.8362, 49.512, 10.6816, 38.8362, 64.262, 17.9316, 27.3362, 59.7235, 15.4316, 30.8747, 8.01198, 0.181564, 9.58623, 5.76198, 0.181564, 9.83623, 5.76198, 0.181564, 38.8362, 13.012, 0.181564, 38.8362, 8.01198, 0.181564, 1.08623, 8.01198, 0.181564, 2.83623, 35.012, 3.43156, 38.8362, 28.9152, 0.181564, 30.312, 28.9152, 0.181564, 30.7072, 35.012, 3.43156, 38.8362, 42.262, 6.93156, 38.8362, 64.262, 17.9316, 27.3362, 64.262, 17.9316, 15.8362, 57.242, 14.1816, 21.3562, 56.072, 13.9316, 22.2762, 8.01198, 0.181564, 9.58623, 13.012, 0.181564, 38.8362, 20.262, 0.181564, 38.8362, 8.01198, 0.181564, 9.58623, 20.262, 0.181564, 38.8362, 27.512, 0.181564, 38.8362, 8.01198, 0.181564, -6.66377, 8.01198, 0.181564, 1.08623, 35.012, 3.43156, 38.8362, 64.262, 17.9316, 4.33623, 64.262, 17.9316, -7.16377, 29.7862, 0.681564, -6.85732, 27.9717, 0.181564, -6.84119, 28.9152, 0.181564, 30.312, 28.0222, 0.181564, -4.65804, 8.01198, 0.181564, 9.58623, 27.512, 0.181564, 38.8362, 35.012, 3.43156, 38.8362, 8.01198, 0.181564, 2.83623, 28.762, 0.181564, 38.8362, 28.9152, 0.181564, 30.7072, 7.51198, 0.181564, -6.91377, 8.01198, 0.181564, -6.66377, 64.262, 17.9316, -7.16377, 29.4797, 0.431564, -7.01054, 27.9717, 0.181564, -6.84119, 29.7862, 0.681564, -6.85732, -6.48802, 0.181564, 2.83623, -5.48802, 0.181564, 2.58623, -5.48802, 0.181564, 1.33623, -6.48802, 0.181564, 1.08623, -37.488, 0.181564, 1.33623, -6.48802, 0.181564, 1.08623, -6.48802, 0.181564, -6.41377, -37.488, 0.181564, -6.41377, -37.488, 0.181564, 1.33623, -37.488, 0.181564, 9.33623, -6.48802, 0.181564, 9.33623, -6.48802, 0.181564, 2.83623, -37.488, 0.181564, 1.33623, -4.48802, 0.181564, 1.08623, -5.48802, 0.181564, 1.33623, -5.48802, 0.181564, 2.58623, -4.48802, 0.181564, 2.83623, 6.01198, 0.181564, 2.83623, 6.01198, 0.181564, 1.08623, -4.48802, 0.181564, 2.83623, -4.48802, 0.181564, 7.83623, 6.01198, 0.181564, 7.83623, 6.01198, 0.181564, 2.83623, 6.01198, 0.181564, 2.83623, 7.01198, 0.181564, 2.58623, 7.01198, 0.181564, 1.33623, 6.01198, 0.181564, 1.08623, 6.01198, 0.181564, 1.08623, 6.01198, 0.181564, -4.91377, -4.48802, 0.181564, -4.91377, -4.48802, 0.181564, 1.08623, -37.488, 0.181564, 31.3362, -37.488, 0.181564, 38.8362, -29.238, 0.181564, 38.8362, -37.488, 0.181564, 24.0862, -37.488, 0.181564, 31.3362, -29.238, 0.181564, 38.8362, -37.488, 0.181564, 24.0862, -29.238, 0.181564, 38.8362, -20.988, 0.181564, 38.8362, -37.488, 0.181564, 16.5862, -6.48802, 0.181564, 9.33623, -37.488, 0.181564, 9.33623, -37.488, 0.181564, 16.5862, -20.988, 0.181564, 38.8362, -12.738, 0.181564, 38.8362, -4.23802, 0.181564, 38.8362, -4.23802, 0.181564, 9.83623, -6.23802, 0.181564, 9.83623, -4.23802, 0.181564, 38.8362, -6.23802, 0.181564, 9.83623, -6.48802, 0.181564, 9.33623, -12.738, 0.181564, 38.8362, -4.23802, 0.181564, 38.8362, 5.76198, 0.181564, 38.8362, 5.76198, 0.181564, 9.83623, -4.23802, 0.181564, 9.83623)
polygons = [PackedInt32Array(2, 1, 0), PackedInt32Array(5, 4, 3), PackedInt32Array(7, 6, 8), PackedInt32Array(8, 6, 9), PackedInt32Array(10, 15, 11), PackedInt32Array(11, 15, 14), PackedInt32Array(11, 14, 13), PackedInt32Array(11, 13, 12), PackedInt32Array(17, 16, 18), PackedInt32Array(18, 16, 19), PackedInt32Array(22, 21, 20), PackedInt32Array(25, 24, 23), PackedInt32Array(28, 27, 26), PackedInt32Array(31, 30, 29), PackedInt32Array(33, 32, 34), PackedInt32Array(34, 32, 35), PackedInt32Array(37, 36, 38), PackedInt32Array(38, 36, 39), PackedInt32Array(41, 40, 42), PackedInt32Array(42, 40, 43), PackedInt32Array(45, 44, 46), PackedInt32Array(46, 44, 47), PackedInt32Array(51, 50, 48), PackedInt32Array(48, 50, 49), PackedInt32Array(55, 54, 52), PackedInt32Array(52, 54, 53), PackedInt32Array(56, 60, 57), PackedInt32Array(57, 60, 58), PackedInt32Array(58, 60, 59), PackedInt32Array(61, 65, 62), PackedInt32Array(62, 65, 63), PackedInt32Array(63, 65, 64), PackedInt32Array(66, 69, 67), PackedInt32Array(67, 69, 68), PackedInt32Array(72, 71, 70), PackedInt32Array(75, 74, 73), PackedInt32Array(77, 76, 78), PackedInt32Array(78, 76, 79), PackedInt32Array(82, 81, 80), PackedInt32Array(85, 84, 86), PackedInt32Array(86, 84, 83), PackedInt32Array(88, 87, 89), PackedInt32Array(89, 87, 90), PackedInt32Array(94, 97, 95), PackedInt32Array(95, 97, 91), PackedInt32Array(91, 97, 96), PackedInt32Array(96, 97, 92), PackedInt32Array(92, 97, 93), PackedInt32Array(100, 99, 98), PackedInt32Array(104, 103, 101), PackedInt32Array(101, 103, 102), PackedInt32Array(108, 107, 105), PackedInt32Array(105, 107, 106), PackedInt32Array(112, 111, 109), PackedInt32Array(109, 111, 110), PackedInt32Array(116, 115, 113), PackedInt32Array(113, 115, 114), PackedInt32Array(120, 119, 117), PackedInt32Array(117, 119, 118), PackedInt32Array(124, 123, 121), PackedInt32Array(121, 123, 122), PackedInt32Array(128, 127, 125), PackedInt32Array(125, 127, 126), PackedInt32Array(132, 131, 129), PackedInt32Array(129, 131, 130), PackedInt32Array(134, 133, 135), PackedInt32Array(135, 133, 136), PackedInt32Array(138, 141, 139), PackedInt32Array(139, 141, 140), PackedInt32Array(139, 140, 137), PackedInt32Array(144, 143, 142), PackedInt32Array(147, 146, 148), PackedInt32Array(148, 146, 145), PackedInt32Array(150, 149, 152), PackedInt32Array(152, 149, 151), PackedInt32Array(154, 153, 155), PackedInt32Array(155, 153, 156), PackedInt32Array(159, 161, 160), PackedInt32Array(160, 161, 158), PackedInt32Array(160, 158, 157), PackedInt32Array(165, 164, 166), PackedInt32Array(166, 164, 167), PackedInt32Array(167, 164, 163), PackedInt32Array(167, 163, 162), PackedInt32Array(170, 169, 168), PackedInt32Array(173, 172, 171), PackedInt32Array(177, 179, 178), PackedInt32Array(179, 182, 180), PackedInt32Array(180, 182, 174), PackedInt32Array(174, 182, 175), PackedInt32Array(175, 182, 181), PackedInt32Array(181, 177, 176), PackedInt32Array(177, 182, 179), PackedInt32Array(182, 177, 181), PackedInt32Array(185, 187, 188), PackedInt32Array(188, 187, 184), PackedInt32Array(188, 184, 183), PackedInt32Array(188, 183, 186), PackedInt32Array(190, 189, 193), PackedInt32Array(193, 189, 192), PackedInt32Array(193, 192, 194), PackedInt32Array(194, 192, 191), PackedInt32Array(196, 195, 197), PackedInt32Array(197, 195, 198), PackedInt32Array(198, 195, 199), PackedInt32Array(201, 200, 202), PackedInt32Array(202, 200, 203), PackedInt32Array(205, 204, 206), PackedInt32Array(206, 204, 207), PackedInt32Array(209, 208, 210), PackedInt32Array(210, 208, 211), PackedInt32Array(211, 208, 213), PackedInt32Array(211, 213, 212), PackedInt32Array(217, 216, 214), PackedInt32Array(214, 216, 215), PackedInt32Array(219, 218, 220), PackedInt32Array(220, 218, 221), PackedInt32Array(225, 224, 222), PackedInt32Array(222, 224, 223), PackedInt32Array(228, 227, 226), PackedInt32Array(231, 230, 229), PackedInt32Array(233, 232, 234), PackedInt32Array(234, 232, 235), PackedInt32Array(238, 237, 239), PackedInt32Array(239, 237, 240), PackedInt32Array(240, 237, 236), PackedInt32Array(243, 242, 241), PackedInt32Array(245, 244, 246), PackedInt32Array(246, 244, 247), PackedInt32Array(251, 250, 248), PackedInt32Array(248, 250, 249)]

[sub_resource type="BoxMesh" id="BoxMesh_xsxmu"]
size = Vector3(80, 1, 80)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_lf0cp"]
data = PackedVector3Array(-40, 0.5, 40, 40, 0.5, 40, -40, -0.5, 40, 40, 0.5, 40, 40, -0.5, 40, -40, -0.5, 40, 40, 0.5, -40, -40, 0.5, -40, 40, -0.5, -40, -40, 0.5, -40, -40, -0.5, -40, 40, -0.5, -40, 40, 0.5, 40, 40, 0.5, -40, 40, -0.5, 40, 40, 0.5, -40, 40, -0.5, -40, 40, -0.5, 40, -40, 0.5, -40, -40, 0.5, 40, -40, -0.5, -40, -40, 0.5, 40, -40, -0.5, 40, -40, -0.5, -40, 40, 0.5, 40, -40, 0.5, 40, 40, 0.5, -40, -40, 0.5, 40, -40, 0.5, -40, 40, 0.5, -40, -40, -0.5, 40, 40, -0.5, 40, -40, -0.5, -40, 40, -0.5, 40, 40, -0.5, -40, -40, -0.5, -40)

[sub_resource type="BoxMesh" id="BoxMesh_x6psx"]
size = Vector3(0.4, 0.4, 0.4)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_8l7a7"]
points = PackedVector3Array(0.2, 0.2, 0.2, 0.2, 0.2, -0.2, -0.2, 0.2, 0.2, 0.2, -0.2, 0.2, 0.2, -0.2, -0.2, -0.2, 0.2, -0.2, -0.2, -0.2, 0.2, -0.2, -0.2, -0.2)

[node name="Node3D" type="Node3D"]

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.00156, 0.606305, 0.778085)
navigation_mesh = SubResource("NavigationMesh_ta38s")

[node name="CSGCombiner3D" type="CSGCombiner3D" parent="NavigationRegion3D"]
use_collision = true

[node name="CSGBox3D" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.77175, 4.03112, 1.43688)
size = Vector3(13.2895, 8.85394, 15.6303)
material = ExtResource("3_0q5xv")

[node name="CSGBox3D2" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D/CSGBox3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.0912318, 0)
operation = 2
size = Vector3(11.731, 10.0487, 14.0571)
material = ExtResource("3_0q5xv")

[node name="CSGBox3D3" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D/CSGBox3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.111667, -2.42654, 0.415866)
operation = 2
size = Vector3(14.2325, 4.88986, 2.48214)
material = ExtResource("4_yh8v0")

[node name="MeshInstance3D" type="MeshInstance3D" parent="NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.01198, -0.606305, -0.663767)
mesh = SubResource("BoxMesh_xsxmu")
skeleton = NodePath("")

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3D/MeshInstance3D"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/MeshInstance3D/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_lf0cp")

[node name="MeshInstance3D2" type="MeshInstance3D" parent="NavigationRegion3D"]
transform = Transform3D(0.895975, -0.444104, 0, 0.444104, 0.895975, 0, 0, 0, 1, 29.0664, -0.606305, -0.663767)
mesh = SubResource("BoxMesh_xsxmu")
skeleton = NodePath("")

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3D/MeshInstance3D2"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/MeshInstance3D2/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_lf0cp")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -0.926529, 0.376224, 0, -0.376224, -0.926529, 2.36089, 9.66096, -12.119)

[node name="Door" parent="." instance=ExtResource("2_bt1bo")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 4.75264, 2.61922, 3.18472)

[node name="Door2" parent="." instance=ExtResource("2_bt1bo")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -7.2695, 2.61922, 3.18472)

[node name="Small Block" type="RigidBody3D" parent="." groups=["Door"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.16994, 0)

[node name="MeshInstance3D" type="MeshInstance3D" parent="Small Block"]
mesh = SubResource("BoxMesh_x6psx")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Small Block"]
shape = SubResource("ConvexPolygonShape3D_8l7a7")

[node name="PlayerRB" parent="." instance=ExtResource("4_b7lln")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.16065, 2.40676, -2.13917)
